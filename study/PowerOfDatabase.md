## 파워오브 데이터베이스 정리
설계 단계
1. 논리적 설계
2. 물리적 구현
3. 응용프로그램 개발

### 관계형 데이터베이스 모델
관계 : 집합론 '관계' 에서 파생
- '관계' : A X B 의 부분집합 -> A = {a,b}, B = {x,y}에서 A X B = {(a,x), (a,y), (b,x), (b,x)}의 부분집합
특징
- 데이터를 컴퓨터에 물리적으로 저장하는 방식에 구애받지 않음
  - 테이블에 있는 레코드나 필드의 실제 순서는 완전히 개념적
  - 각 테이블에 있는 레코드는 고유값 갖는 필드에 의해 구분
장점
- 내장된 다중 무결성
  - 필드에서의 무결성
    - 데이터 정합성 보장
  - 테이블 수준 무결성
    - 레코드 중복 방지
    - 기본키 부재 감지
  - 테이블 사이 관계 보장하는 관계 수준 무결성
  - 사업 수준 무결성에서 데이터 정확성 보장
- DB 응용프로그램으로부터 논리적, 물리적 데이터 독립성
  - DB 논리적 설계 변경, DB SW 상품 변경에도 DB와 연동하는 응용프로그램에 영향 X
- 데이터의 일관성과 정확성 보장
  - DB의 무결성 보장하기 위해 일관성과 정확성 가져야 함
- 쉬운 데이터 검색
  - 사용자 명령을 통해 1개 이상의 테이블에서 데이터 검색
  
### DB 설계
이론
- 두 테이블에서 추출한 데이터는 테이블 간의 공유되는 필드의 일치되는 값 기반
- 두 가지 이론적 배경
  - 집합 이론(set theory)
  - 1차 술어 논리(first-order prediate logic)
훌륭한 설계의 목적
- 정의된 요구사항 + 사용자가 제기할 수 있는 임의의 질의 지원 위해 필요한 데이터는 반드시 저장
- 테이블을 적절하고 효율적으로 구성
  - 상대적으로 구별되는 필드로 구성
  - 중복 데이터 절대적으로 최소화
- 필드, 테이블, 관계 수준의 데이터 무결성 부과
 - 데이터 구조와 값들이 유효하고 항상 정확할 것임을 보증
- 조직과 관련된 업무 규칙 지원
  - 업무에 의미가 유효하고 정확한 정보 제공
- DB 자체의 미래성장에 적합
  - 확장, 수정 쉬워야 함
훌륭한 설계의 이점
- DB 구조 쉽게 수정, 운영 가능
  - 테이블이나 필드에 대한 수정이 DB의 다른 필드나 테이블에 부정적 영향 미치지 않음
- 데이터를 쉽게 수정
  - 필드값 변경하는 것이 테이블 내 다른 필드에 부정적 영향 미치지 않음
  - 한 필드에서 특정한 데이터값만 수정 (중복 최소화되어 설계)
- 정보 쉽게 검색
  - 테이블 좋은 구성, 관계 제대로 설정되어 쉽게 질의 생성
- 최종 사용자 응용프로그램 개발 및 구축 쉬움
  - 프로그래밍과 데이터 조작 작업에 더 많은 시간 할애
설계 방법
- 전통적 방법
  - 요구사항 분석, 데이터 모델링, 정규화
  - 데이터 모델링 : ERD, 의미-개체 모델링, 개체-관계 모델링, UML모델링 등 포함
  - 정규화 : 불필요한 · 중복 데이터 제거, CUD에서 발생하는 문제 방지
    - 정규형에 대해 테스트 후 문제 발견 시 수정
- 이 책에서 제시
  - 요구사항 분석, 간단한 ERD 포함, 정규화 대신 특정한 정의를 정형화하는 개념과 기법 기술
  - 충실히 따르면 완전히 정규화된 DB 구조 설계됨
- 정규화
  - 전통적인 설계 방법론의 어려운 점
    - 정규화 절차와 적절한 설계에 도달하기 위해 필요한 끝없는 반복
  - 해결책
    - 잘 정의된 데이터베이스의 가이드라인 수집
      - 각 정규형 테스트 통과
      - 새로운 가이드라인
        - 기존 DB 테이블 구조 결함 해결
        - 새 DB 테이블 구조 만듦
        - 테스트 실시
    - 장점
      - 전통 설계 방법론의 위협적 측면 제거
      - 방법론이 명료하고 구현하기 쉬움
    - 완전한 정규화된 DB 구조 설계 
### 전문 용어
데이터와 정보
- 데이터는 저장하는 것이고, 정보는 찾는 것이다.
테이블
- 레코드와 필드 순서는 중요 X
- 기본 키 하나 이상 포함 필수
- 앞 두가지 특성으로 데이터는 물리적 저장 방식과 관계 없이 존재
- 종류
  - 데이터 테이블 : 데이터 저장
  - 룩업 테이블(검증 테이블) : 데이터 무결성 보장할 때 사용하는 데이터 저장
    - 도시명, 기술 범주, 상품 코드, 고유 번호 등
필드
- 정보의 품질은 필드 자체의 구조적 무결성과 데이터 무결성을 보장하기 위해 투자한 시간에 비례
- 모든 필드는 하나의 값
- 필드이름으로 값 유추
뷰
- 하나 이상의 테이블에서 여러 필드 혼합해 만든 가상 테이블
- 뷰를 구성하는 테이블을 기반 테이블
- 구조에 관한 것만 저장 : 뷰 혹은 쿼리로 관리
- 필요성
  - 동시에 여러 테이블 데이터에 대한 작업 수행
    - 연결 돼 있어야 함
  - 사용자가 특정 필드 보거나 조작하는 것 방지
    - 보안에 큰 이점
  - 데이터 무결성 구현하는 데 도움
    - 검증 뷰

키
- 기본 키는 테이블 수준의 무결성 강제
- 외래 키는 관계 수준 무결성 보장하는 데 사용
  - 참조하는 쪽의 기본 키로 존재하는 값과 일치해야 함
    - 고아 레코드 방지

인덱스
- RDBMS의 데이터 처리 속도 향상시키기 위한 구조
- 키는 논리적 구조, 인덱스는 물리적 구조

관계
- 기본 키와 외래 키
- 연결 테이블
- 관계의 유형에 따라 달라짐
- 중요성
  - 다중 테이블 뷰를 만들 수 있도록 해 줌
  - 불필요한 · 중복 데이터 제거해 데이터 무결성 보장
- 모든 관계는 세 가지 방법으로 특성화
  - 테이블 사이에 존재하는 관계의 종류에 의해
  - 각 테이블이 참여하는 방법에 의해
  - 각 테이블이 참여하는 정도에 의해
관계의 유형
- 1대1
  - 부모 테이블 기본 키 복사해 자식 테이블에 기본 키로
  - 두 테이블 모두의 기본 키, 자식 테이블의 외래 키
- 1대다
  - 부모의 기본 키 복사해 자식의 외래 키로
- 다대다
  - 연결 테이블 통해 설정
  - 각 테이블의 기본 키 복사해 새로운 테이블에 사용
  - 연결 필드 역할
    - 필드를 하나로 묶어서 조합 기본 키를 형성
    - 개별 필드들은 각 테이블들의 외래 키 역할
참여의 유형
- 필수적 : 테이블 B 에 레코드 넣기 전에 테이블 A에 적어도 하나의 레코드 넣어야 함 -> A 의 참여는 필수적
- 선택적 : 안 넣어도 됨
참여의 정도
- 특정 테이블이 관련 테이블에 있는 한 개의 레코드와 연결되어야 하는 최소/최대 레코드 개수
무결성 관련<br>
필드 명세
- == 도메인
- 필드의 모든 요소 표시
- 일반적, 물리적, 논리적 유형 요소 모두 포함
  - 일반적 요소 : 기본적 정보 
    - 필드 이름, 상세 설명, 부모 테이블 등
  - 물리적 요소 : 필드 구성 방법과 표시하는 방법
    - 데이터 유형, 길이, 출력 양식
  - 논리적 요소 : 필드에 저장되는 값
    - 요청값, 값의 범위, 기본값
데이터 무결성
- 유효성, 일관성, 정확성
- DB에서 추출하는 정보의 정확성 수준 ∝ DB를 활용해 구현한 데이터 무결성 수준
- 네 단계의 무결성
  - 테이블 수준 무결성(엔티티 무결성)
  - 필드 수준 무결성(도메인 무결성)
    - 모든 필드의 구조가 잘 되었음
    - 각 필드에 있는 값의 유효성, 일관성, 정확성이 확보되었는지
    - 같은 유형의 필드들이 DB 내에서 일관성 있게 정의되었는지
  - 관계 수준 무결성(참조 무결성)
    - 테이블 사이 관계의 적절성
    - 다른 테이블에서 CUD 될 때 레코드들의 동기화 여부 보장
  - 업무 규칙
    - 조직이 데이터를 인지하고 사용하는 방법에 따라 DB에 제약
    - 필드에 저장되는 값의 종류, 범위, 각 테이블의 참여의 정도, 종류, 동기화 종류 등
